    <script>
      (function () {
        if (!location.hash) {
          location.hash = '#/trade';
        }
      })();
    </script>
    <style>
      #error-overlay {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 24px;
        box-sizing: border-box;
        background: rgba(0, 0, 0, 0.82);
        color: #fff;
        z-index: 2147483647;
        font-family: 'Vazirmatn', system-ui, -apple-system, BlinkMacSystemFont,
          'Segoe UI', sans-serif;
        overflow: auto;
      }
      #error-overlay.coinowin-error-visible {
        display: flex;
      }
      #error-overlay .error-overlay-inner {
        width: 100%;
        max-width: 960px;
        background: rgba(12, 12, 12, 0.72);
        border: 1px solid rgba(255, 255, 255, 0.18);
        border-radius: 12px;
        padding: 24px;
        box-shadow: 0 18px 36px rgba(0, 0, 0, 0.55);
      }
      #error-overlay h1 {
        margin: 0 0 16px;
        font-size: 20px;
        font-weight: 600;
        letter-spacing: 0.01em;
      }
      #error-overlay pre {
        margin: 0;
        font-size: 14px;
        line-height: 1.5;
        white-space: pre-wrap;
        word-break: break-word;
        font-family: 'Courier New', Courier, monospace;
      }
    </style>
    <script>
      (function () {
        var APP_VIS_ATTR = 'data-app-visible';
        function markHidden() {
          if (document.body && !document.body.hasAttribute(APP_VIS_ATTR)) {
            document.body.setAttribute(APP_VIS_ATTR, '0');
          }
        }
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', markHidden, {
            once: true
          });
        } else {
          markHidden();
        }

        var overlay;
        var overlayPre;

        function attachOverlay() {
          if (!overlay) {
            return;
          }
          var target = document.body || document.documentElement;
          if (overlay.parentNode !== target) {
            target.appendChild(overlay);
          }
        }

        function ensureOverlay() {
          if (!overlay) {
            overlay = document.createElement('div');
            overlay.id = 'error-overlay';
            overlay.innerHTML =
              '<div class="error-overlay-inner"><h1>Application Error</h1><pre></pre></div>';
            overlayPre = overlay.querySelector('pre');
            attachOverlay();
          }
          return overlayPre;
        }

        function hideOverlay() {
          if (!overlay) {
            return;
          }
          overlay.classList.remove('coinowin-error-visible');
        }

        function formatReason(reason) {
          if (reason == null) {
            return '';
          }
          if (reason instanceof Error && reason.stack) {
            return reason.stack;
          }
          if (typeof reason === 'object') {
            try {
              return JSON.stringify(reason, null, 2);
            } catch (err) {
              return String(reason);
            }
          }
          return String(reason);
        }

        function showOverlay(title, detail) {
          var pre = ensureOverlay();
          var lines = [title];
          if (detail) {
            lines.push('', detail);
          }
          pre.textContent = lines.join('\n');
          overlay.classList.add('coinowin-error-visible');
        }

        function cleanTargetStyles(target) {
          if (!target) {
            return;
          }
          if (target.style) {
            target.style.removeProperty('opacity');
            target.style.removeProperty('visibility');
            target.style.removeProperty('display');
          }
          if (target.classList) {
            target.classList.remove(
              'app-shell-hidden',
              'is-hidden',
              'is-loading',
              'hidden'
            );
          }
          if (target.removeAttribute) {
            if (target.hasAttribute('hidden')) {
              target.removeAttribute('hidden');
            }
            if (target.hasAttribute('aria-hidden')) {
              target.removeAttribute('aria-hidden');
            }
            if (target.hasAttribute('inert')) {
              target.removeAttribute('inert');
            }
          }
          if (target === document.body) {
            target.setAttribute(APP_VIS_ATTR, '1');
          }
        }

        function revealApp() {
          var body = document.body;
          if (!body) {
            return;
          }
          cleanTargetStyles(document.documentElement);
          cleanTargetStyles(body);
          cleanTargetStyles(document.getElementById('root'));
        }

        function scheduleReveal(delay) {
          setTimeout(function () {
            try {
              revealApp();
            } catch (err) {
              console.error('Reveal app shell failed', err);
            }
          }, delay);
        }

        function onReady() {
          revealApp();
          scheduleReveal(150);
          scheduleReveal(300);
        }

        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', onReady, { once: true });
        } else {
          onReady();
        }

        scheduleReveal(1000);

        window.addEventListener('DOMContentLoaded', function () {
          attachOverlay();
          hideOverlay();
        });

        if (document.readyState !== 'loading') {
          attachOverlay();
          hideOverlay();
        }

        window.addEventListener('error', function (event) {
          if (event && event.defaultPrevented) {
            return;
          }
          var detail = '';
          if (event) {
            if (event.error && event.error.stack) {
              detail = event.error.stack;
            } else if (event.message) {
              detail = event.message;
            }
          }
          if (event && event.error) {
            console.error(event.error);
          } else if (detail) {
            console.error(detail);
          }
          showOverlay('Runtime error', detail);
        });

        window.addEventListener('unhandledrejection', function (event) {
          if (event && event.defaultPrevented) {
            return;
          }
          var detail = formatReason(event ? event.reason : void 0);
          if (event && 'reason' in event) {
            console.error(event.reason);
          } else if (detail) {
            console.error(detail);
          }
          showOverlay('Unhandled promise rejection', detail);
        });
      })();
    </script>
